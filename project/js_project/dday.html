<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë””ë°ì´ê³„ì‚°í•˜ê¸°</title>
    <style>
      /* ì¢…ê°•ì¼ ë””ë°ì´ ì¹´ìš´íŠ¸ */
      .class_dday_box {
        border: 0.5rem solid green;
        border-radius: 1rem;
        width: fit-content;
        padding: 1rem;
        margin: 2rem auto;
        text-align: center;
      }
      div {
        margin-bottom: 1rem;
      }

      .class_dday_box > div + div + div {
        font-size: 2rem;
        font-weight: bold;
        color: tomato;
      }

      .wrap{
        display: flex;
        gap: 30px;
        justify-content: center;
      }

      /* ë””ë°ì´ ê³„ì‚°ê¸° */
      .calculater_box {
        text-align: center;
      }

      fieldset {
        width: fit-content;
        padding: 1rem;
        margin: 2rem auto;
        border-radius: 1rem;
        border: 0.3rem solid orange;
        text-align: center;
      }

      .wrap legend{
        font-size: 1.5rem;
        padding: 15px;
        font-weight: bold;
      }
      .wrap{
        margin: auto;
      }

      .calculate_resalt_box {
        width: 20rem;
        height: 5rem;
        line-height: 5rem;
        font-size: 2rem;
        font-weight: bold;
        color: coral;
      }

      .wrap button{
        background-image: url(imgs/dday/free-icon-calculating-360679.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        width: 30px;
        height: 30px;
        background-color: none;
        text-indent: -9999px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        margin-left: 5px;
        vertical-align: middle;
      }

      .calculater_box label{
        display: block;
        margin: 0 auto 10px;
      }
      .count_day p{
        margin: 0 auto 10px;
      }
      .count_day_result{
        width: 20rem;
    height: 5rem;
    line-height: 5rem;
    font-size: 2rem;
    font-weight: bold;
    color: coral;
      }
    </style>
  </head>
  <body>
    <div class="class_dday_box">
      <div>TODAY : <span id="today"></span></div>
      <div>í•™ì› ì¢…ê°•ì¼ : 2024ë…„ 10ì›” 17ì¼</div>
      <div>ğŸŠD-DAY : <span id="D-day"></span>ğŸŠ</div>
    </div>
    <div class="wrap">
      <div class="calculater_box">
        <!-- <form action="#" method="post"> -->
        <fieldset>
          <legend>D-day ê³„ì‚°ê¸°</legend>
          <label for="inputdate">ê³„ì‚°í•  ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</label>
          <input type="date" id="inputdate" />
          <button onclick="btnDday()">ê³„ì‚°í•˜ê¸°</button>
          <div class="calculate_resalt_box"></div>
        </fieldset>
        <!-- </form> -->
      </div>
      <div class="count_day">
        <!-- <form action="#" method="get"> -->
          <fieldset>
            <legend>ì˜¤ëŠ˜ë¶€í„° OOì¼ í›„ëŠ”???</legend>
            <p>ì˜¤ëŠ˜ì€ <span class="count_day_today"></span>ì…ë‹ˆë‹¤!!!</p>
            <input type="number" id="target_num" placeholder="ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”." />ì¼<button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>
            <p class="count_day_result"></p>
          </fieldset>
        <!-- </form> -->
      </div>
    </div>
    <script>
      // ì¢…ê°•ì¼ ë””ë°ì´ ì¹´ìš´íŠ¸
      const todayBox = document.getElementById("today");
      const Dday = document.getElementById("D-day"); // ì¶œë ¥í•  ê³³

      const TODAY = new Date(); // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
      const thisYear = TODAY.getFullYear(); // ë…„
      const thisMonth = TODAY.getMonth() + 1; // ì›”
      const thisDate = TODAY.getDate(); // ì¼
      // console.log(thisMonth);
      todayBox.innerHTML = thisYear + "ë…„ " + thisMonth + "ì›” " + thisDate + "ì¼";

      function find_day() {
        const today = new Date(); // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
        const findDay = new Date("2024-10-17 00:00:00"); // ë””ë°ì´ ì„¤ì •
        // console.log(findDay);
        const gap = findDay - today; // ë””ë°ì´ ê³„ì‚° //ë°€ë¦¬ì„¸ì»¨ë“œ ë‹¨ìœ„ì˜ ì‹œê°„ í‘œì‹œ 1ì´ˆ=1000
        // console.log(gap);
        const day = Math.floor(gap / (1000 * 60 * 60 * 24)); // ì¼ ê³„ì‚°
        // console.log(day);
        const hour = Math.floor((gap / (1000 * 60 * 60)) % 24); // ì‹œê°„ ê³„ì‚°
        // console.log(hour);
        const min = Math.floor((gap / (1000 * 60)) % 60); // ë¶„ ê³„ì‚°
        // console.log(min);
        const sec = Math.floor((gap / 1000) % 60); // ì´ˆ ê³„ì‚°
        // console.log(sec);
        Dday.innerHTML = day + "ì¼ " + hour + "ì‹œê°„ " + min + "ë¶„ " + sec + "ì´ˆ";
      }

      find_day();
      setInterval(find_day, 1000); //setInterval í•¨ìˆ˜ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ // ~í•¨ìˆ˜ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•´ë¼.(í•¨ìˆ˜ find_dayë¥¼, 1000msë§ˆë‹¤)
    </script>
    <script>
      // ë””ë°ì´ ê³„ì‚°ê¸°
      function btnDday() {
        const today = new Date();
        const inputDate = document.querySelector("#inputdate").value;
        // console.log(inputDate);
        // console.log(typeof inputDate);
        // console.log(today);
        // console.log(typeof today);

        const dayday = new Date("2024-08-29");
        // console.log(dayday);
        // console.log(typeof dayday);

        const targetDate = new Date(inputDate);
        // console.log(targetDate);
        // console.log(typeof targetDate);

        const calculaterGap = today - targetDate;
        //console.log(calculaterGap);
        //console.log("-----------------------------");

        const targetDay = Math.floor(calculaterGap / (1000 * 60 * 60 * 24));
        // console.log(targetDay);

        const calculateResalt = document.getElementsByClassName("calculate_resalt_box")[0];
        if (targetDay == 0) {
          calculateResalt.innerHTML = "D-DAY!!!!!! ì˜¤ëŠ˜ì´ë‹·!!!!!!";
        } else if (targetDay > 0) {
          calculateResalt.innerHTML = targetDay + "ì¼ ì§€ë‚¬ìŠµë‹ˆë‹¤~";
        } else {
          calculateResalt.innerHTML = -targetDay + "ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤~";
        }
      }
    </script>
    <script>
      // ì˜¤ëŠ˜ë¡œë¶€í„° ëª‡ì¼ë’¤ëŠ”?
      // ì˜¤ëŠ˜ ë‚ ì§œ ì¶œë ¥
      const countDayToday = document.getElementsByClassName("count_day_today")[0];
      countDayToday.innerHTML = thisYear + "ë…„ " + thisMonth + "ì›” " + thisDate + "ì¼";

      // ë‚ ì§œê³„ì‚°
      function calculate() {
        let targetNum = Number(document.getElementById("target_num").value);
        //console.log(targetNum);
        //console.log(typeof targetNum);

        const countDate = new Date(); // ì˜¤ëŠ˜ë‚ ì§œ
        countDate.setDate(countDate.getDate() + targetNum); // ì§ì—­í•˜ë©´ : countDate ë‚ ì§œë¥¼ ì„¤ì •(countDateì˜ ë‚ ì§œë¥¼ ê°€ì ¸ì™€ì„œ targetNumì„ ë”í•´ë¼)
        console.log(countDate);
        countMonth = countDate.getMonth() + 1;

        const countDayResult = document.getElementsByClassName("count_day_result")[0];
        countDayResult.innerHTML = countDate.getFullYear() + "ë…„ " + countMonth + "ì›” " + countDate.getDate() + "ì¼";
      }
    </script>
  </body>
</html>
